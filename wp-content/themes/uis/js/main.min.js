jQuery(document).ready(function(d){d(".phone-code-select").on("change",function(){var e=d(this).val();d(".phone-code-flag").removeClass(function(f,g){return(g.match(/(^|\s)flag-\S+/g)||[]).join(" ")});d.getJSON("/phone-codes.json",function(h){var g=h;var f=d.grep(g,function(k,j){return k.dial_code==e});d(".phone-code-flag").addClass("flag-"+(f[0].code).toLowerCase())})});var c=d(".country-select").easyAutocomplete({url:"/phone-codes.json",getValue:"name",list:{match:{enabled:true},maxNumberOfElements:8},template:{type:"custom",method:function(f,e){return"<span class='flag flag-"+(e.code).toLowerCase()+"' ></span>"+f}},theme:"square"});d(".phone-code-select").easyAutocomplete({url:"/phone-codes.json",getValue:"dial_code",list:{match:{enabled:true,method:function(f,e){return f.indexOf(e)!==-1}},maxNumberOfElements:5},template:{type:"custom",method:function(f,e){d("span.phone-code-flag").removeClass(function(g,h){return(h.match(/(^|\s)flag-\S+/g)||[]).join(" ")});d("span.phone-code-flag").addClass("flag-"+(e.code).toLowerCase());return"<span class='flag flag-"+(e.code).toLowerCase()+"' ></span>"+f}},theme:"square"});d("form").on("keyup keypress","input.country-select",function(h){var g=d(this);var f=h.keyCode;if(f==13){h.preventDefault();h.stopPropagation()}setTimeout(function(){var i=g.next().find("ul");var e=i.find("li");if(e.length==1){e.addClass("selected");if(f==13){var j=e.text();d(g).val(j).trigger("change");i.hide()}}},250)});d.get("https://ipinfo.io?token=ba85d6e5b0bfe3",function(f){var e=[];if(!f.country){d('.register_form [name="country"]').remove();d('.register_form_lp [name="country"]').remove();d('.register_form_lp_yp [name="country"]').remove();var g="";g+="<select class='form-text' name='country' placeholder='Choose country' required></select>";d("#country-field").prepend(g);d.getJSON("/countries.json",function(k){e=k;var h="";for(var j=0;j<coun0tries.length;j++){h+="<option value='"+e[j].name+"'>"+e[j].name+"</option>"}d("#country-field select").prepend(h)})}else{d.getJSON("/countries.json",function(i){e=i;var h=d.grep(e,function(k,j){return k.code==f.country});d('.register_form [name="country"]').val(h[0].name);d('.register_form_lp [name="country"]').val(h[0].name);d('.register_form_lp_yp [name="country"]').val(h[0].name);d("#region").val(f.region)});d.getJSON("/phone-codes.json",function(i){e=i;var h=d.grep(e,function(k,j){return k.code==f.country});d(".auto-phone-code").val(h[0].dial_code);d("span.phone-code-flag").removeClass(function(j,k){return(k.match(/(^|\s)flag-\S+/g)||[]).join(" ")});d("span.phone-code-flag").addClass("flag-"+(h[0].code).toLowerCase());d("#userCountry").val(h[0].dial_code);d("#userCountry").removeClass(function(j,k){return(k.match(/(^|\s)flag-\S+/g)||[]).join(" ")});d("#userCountry").addClass("downFlag-"+(h[0].code).toLowerCase())})}},"jsonp");d(".register_form").on("submit",function(h){h.preventDefault();var g=d(this);var f=d(g).attr("action");d.post(f,{full_name:d(g).find("[name=full_name]").val(),email:d(g).find("[name=email]").val(),phone:d(g).find("[name=phone]").val(),phone_code:d(g).find("[name=phone_code]").val(),country:d(g).find("[name=country]").val(),confirmation:d(g).find("[name=confirmation]").is(":checked")?"on":"",lp_url:d(g).find("[name=lp_url]").val(),utm_campaign:d(g).find("[name=utm_campaign]").val(),action:d(g).find("[name=action]").val(),_wpnonce:d(g).find("[name=_wpnonce]").val()},function(e){if(e.result){console.log(e.result);location.href="/thank-you"}else{if(e.errors!==undefined){d.each(e.errors,function(j,k){d(g).find("[name="+j+"]").closest(".form-group").addClass("has-error").find(".error-message").text(k)})}}})});d(".register_form_lp").on("submit",function(i){i.preventDefault();var h=d(this);var g=d(h).attr("action");var j=d(h).find("[name=thankyou_url]").val();var f={full_name:d(h).find("[name=full_name]").val(),confirmation:d(h).find("[name=confirmation]").is(":checked")?"on":"",thankyou_url:j,lp_ref_url:d(h).find("[name=lp_ref_url]").val(),lp_url:d(h).find("[name=lp_url]").val(),utm_campaign:d(h).find("[name=utm_campaign]").val(),email:d(h).find("[name=email]").val(),phone:d(h).find("[name=phone]").val(),phone_code:d(h).find("[name=phone_code]").val(),country:d(h).find("[name=country]").val(),action:d(h).find("[name=action]").val(),_wpnonce:d(h).find("[name=_wpnonce]").val()};d.post(g,f,function(e){if(e.result){location.href=j}else{if(e.errors!==undefined){d.each(e.errors,function(k,l){d(h).find("[name="+k+"]").closest(".header-form-line").addClass("has-error").find(".error-message").text(l)})}}})});d(".register_form_lp_yp").on("submit",function(i){i.preventDefault();var h=d(this);var g=d(h).attr("action");var j=d(h).find("[name=thankyou_url]").val();var f={full_name:d(h).find("[name=full_name]").val(),confirmation:"on",thankyou_url:j,lp_ref_url:d(h).find("[name=lp_ref_url]").val(),lp_url:d(h).find("[name=lp_url]").val(),email:d(h).find("[name=email]").val(),phone:d(h).find("[name=phone]").val(),phone_code:d(h).find("[name=phone_code]").val(),country:d(h).find("[name=country]").val()!=""?d(h).find("[name=country]").val():"Israel",action:d(h).find("[name=action]").val(),utm_campaign:d(h).find("[name=utm_campaign]").val(),_wpnonce:d(h).find("[name=_wpnonce]").val(),Level_of_English__c:d(h).find("[name=Level_of_English__c]").val(),Work_Experience_of_2_yrs__c:d(h).find("[name=Work_Experience_of_2_yrs__c]").val(),Monthly_Income_over_1500__c:d(h).find("[name=Monthly_Income_over_1500__c]").val(),Visa_needed_in__c:d(h).find("[name=Visa_needed_in__c]").val(),Average_Monthly_Income__c:d(h).find("[name=Average_Monthly_Income__c]").val(),Have_In_Savings__c:d(h).find("[name=Have_In_Savings__c]").val(),GCLID__c:d(h).find("[name=GCLID__c]").val(),Would_like_to_be_contacted_between__c:d(h).find("[name=Would_like_to_be_contacted_between__c]").val(),Region__c:d(h).find("[name=region]").val(),minimum_funds_to_open_a_business__c:d(h).find("[name=minimum_funds_to_open_a_business__c]").val(),management_experience__c:d(h).find("[name=management_experience__c]").val()};d.post(g,f,function(e){if(e.result){location.href=j}else{if(e.errors!==undefined){d.each(e.errors,function(k,l){d(h).find("[name="+k+"]").closest(".header-form-line").addClass("has-error").find(".error-message").text(l)})}}})});d(".login_form").on("submit",function(h){h.preventDefault();d("#login-form-btn").addClass("btn-loader");d("#login-form-btn").addClass("red");var g=d(this);var f=d(g).attr("action");d.post(f,{username:d(g).find("[name=username]").val(),password:d(g).find("[name=password]").val(),action:d(g).find("[name=action]").val(),_wpnonce:d(g).find("[name=_wpnonce]").val()},function(e){d("#login-form-btn").removeClass("btn-loader");d("#login-form-btn").removeClass("red");if(e.result){location.href=e.redirect_url}else{if(e.errors!==undefined){d.each(e.errors,function(j,k){d(g).find("[name="+j+"]").closest(".form-group").addClass("has-error").find(".error-message").text(k)})}}})});d(".register_form input, .login_form input").on("change, blur, keyup",function(){d(this).parent().removeClass("has-error")});d(".express .express-actions .btn, .seo .btn").on("click",function(f){f.preventDefault();d("html,body").animate({scrollTop:0},"slow");return false});function a(f){var g=/\d{7,10}/;var e=g.test(f);return e}var b=function b(e){var h=decodeURIComponent(window.location.search.substring(1)),g=h.split("&"),j,f;for(f=0;f<g.length;f++){j=g[f].split("=");if(j[0]===e){return j[1]===undefined?true:j[1]}}}});