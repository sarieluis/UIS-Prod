jQuery(document).ready(function(a){a(".popup-overlay a").on("click",function(b){b.preventDefault();if(a(this).data("type")!=="cancel"){a(".tab-content_active form [name=tab-confirmation]").val(1)}if(a(this).data("type")==="yes"){a(".tab-content_active form [name=tab-confirmation]").val(1);a(".tab-content_active form [name=need-validation]").val(0);a(".tab-content_active form .next-tab-btn").trigger("click")}a(".popup-overlay").hide()});a(".datepicker").datepicker({dateFormat:"dd / mm / yy"});a(".file_upload").on("click",function(){var f=a(this),d=f.find("input"),b=f.find(".button"),e=f.find("mark");d.focus(function(){f.addClass("focus")}).blur(function(){f.removeClass("focus")});var c=(window.File&&window.FileReader&&window.FileList&&window.Blob)?true:false;d.change(function(){var j;var h=d[0].files;if(c&&d[0].files[0]){j=d[0].files[0].name}else{j=d.val().replace("C:\\fakepath\\","")}if(!j.length){return}if(e.is(":visible")){e.text(j);b.text("Choose file")}else{b.text(j)}var g=new FileReader();var i=this;g.addEventListener("load",function(k){a("[name="+d.attr("name")+"-file]").val(k.target.result)});if(this.files[0]){g.readAsDataURL(this.files[0])}}).change()});a("select").selectric();a(".next-tab-btn").on("click",function(g){g.preventDefault();a(".next-tab-btn").addClass("btn-loader");a(".next-tab-btn").addClass("green");var d=a(this).closest("form");var c=a(d).attr("action");var b=d.serializeArray();var f={};a(b).each(function(e,h){f[h.name]=h.value});a(d).find(".hidden-file").each(function(e,h){f[a(h).attr("name")]=a(h).val()});a.post(c,f,function(h){a(".next-tab-btn").removeClass("btn-loader");a(".next-tab-btn").removeClass("green");if(h.result){var e=a(d).closest(".tab-content").data("tab");if(e!=="equal-6"){a(d).closest(".tab-content").removeClass("tab-content_active").next().addClass("tab-content_active");a(".tabs-header [data-tab="+e+"]").removeClass("tab-toggle_active").next().addClass("tab-toggle_active");a("html, body").animate({scrollTop:200},"fast")}}else{if(h.errors!==undefined){a(d).find(".app-col").each(function(){a(this).removeClass("has-error")});a.each(h.errors,function(j,k){a(d).find('[name="'+j+'"]').closest(".app-col").find(".error-message").remove();a('<p class="error-message"></p>').insertAfter(a(d).find('[name="'+j+'"]'));a(d).find('[name="'+j+'"]').closest(".app-col").addClass("has-error").find(".error-message").text(k)})}}})});a("#app-footer-btn").on("click",function(g){g.preventDefault();a("#app-footer-btn").addClass("btn-loader");a("#app-footer-btn").addClass("green");var h=a(".tab-toggle_active").data("tab");var d=a(".tab-content_active").find("form");var c=a(d).attr("action");var b=d.serializeArray();var f={};a(b).each(function(e,i){f[i.name]=i.value});a(d).find(".hidden-file").each(function(e,i){f[a(i).attr("name")]=a(i).val()});a.post(c,f,function(e){a("#app-footer-btn").removeClass("btn-loader");a("#app-footer-btn").removeClass("green");if(e.result){}else{if(e.errors!==undefined){a(d).find(".app-col").each(function(){a(this).removeClass("has-error")});a.each(e.errors,function(j,k){a(d).find('[name="'+j+'"]').closest(".app-col").find(".error-message").remove();a('<p class="error-message"></p>').insertAfter(a(d).find('[name="'+j+'"]'));a(d).find('[name="'+j+'"]').closest(".app-col").addClass("has-error").find(".error-message").text(k)})}}})});a("input, input").on("change, blur, keyup",function(){a(this).closest(".app-col").removeClass("has-error")});a("[name=jobsCount]").on("change",function(b){var c=a(this).val();a(".job-description .app-row").show().each(function(d){if(d>=c){a(this).hide()}})});a("[name=jobsSpouseCount]").on("change",function(b){var c=a(this).val();a(".job-description-spouse .app-row").show().each(function(d){if(d>=c){a(this).hide()}})});a("[name=children]").on("change",function(b){var c=a(this).val();a(".depends-holder .app-row").show().each(function(d){if(d>=c){a(this).hide()}})});a("[name=the_case]").on("change",function(f){var b=a(this).val();var g=a(location).attr("href");var d="";if(b=="Primary"){var c=g.indexOf("?");if(c!=-1){d=g.substring(0,c);location.href=d}}else{d=g+"?case=spouse";location.href=d}});a("input[name=adaptability-1]:radio").click(function(){if(a("input[name=adaptability-1]:checked").val()=="Yes"){a("#describeCanadianJonExp").show(500)}else{if(a("input[name=adaptability-1]:checked").val()=="No"){a("#describeCanadianJonExp").hide(500)}}});if(a("input[name=adaptability-1]:checked").val()=="No"){a("#describeCanadianJonExp").hide()}else{if(a("input[name=adaptability-1]:checked").val()=="Yes"){a("#describeCanadianJonExp").show()}}a("input[name=adaptability-2]:radio").click(function(){if(a("input[name=adaptability-2]:checked").val()=="Yes"){a("#TotalYearsAcademic").show(500);a("#TypeOfStudies").show(500)}else{if(a("input[name=adaptability-2]:checked").val()=="No"){a("#TotalYearsAcademic").hide(500);a("#TypeOfStudies").hide(500)}}});if(a("input[name=adaptability-2]:checked").val()=="No"){a("#TotalYearsAcademic").hide();a("#TypeOfStudies").hide()}else{if(a("input[name=adaptability-2]:checked").val()=="Yes"){a("#TotalYearsAcademic").show();a("#TypeOfStudies").show()}}});