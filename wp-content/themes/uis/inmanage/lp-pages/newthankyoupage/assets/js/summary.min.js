jQuery(document).ready(function(a){a("select#CountryInput").on("change",function(){var b=a(this).val();if(b=="US"){a("#State").show()}else{a("#State").hide();a("select#StateInput").val("")}});a("#AddressLine1Input").on("input",function(f){var b=a(this);var d=b.val();if(d){b.removeClass("invalid").addClass("valid")}else{b.removeClass("valid").addClass("invalid")}var c=false;if(f.type=="propertychange"){c=f.originalEvent.propertyName=="value"}else{c=true}if(c){a("#errorAddress1").removeClass("error_show");a("#errorAddress1").addClass("error")}});a("#CityInput").on("input",function(d){var b=a(this);var c=b.val();if(c){b.removeClass("invalid").addClass("valid")}else{b.removeClass("valid").addClass("invalid")}if(d.type=="propertychange"){valueChanged=d.originalEvent.propertyName=="value"}else{valueChanged=true}if(valueChanged){a("#errorCity").removeClass("error_show");a("#errorCity").addClass("error")}});a("#ZipCodeInput").on("input",function(d){var b=a(this);var c=b.val();if(c){b.removeClass("invalid").addClass("valid")}else{b.removeClass("valid").addClass("invalid")}if(d.type=="propertychange"){valueChanged=d.originalEvent.propertyName=="value"}else{valueChanged=true}if(valueChanged){a("#errorZipCode").removeClass("error_show");a("#errorZipCode").addClass("error")}});a("#SubmitBtn").click(function(b){a("#SubmitBtn").addClass("btn-loader");a("#SubmitBtn").addClass("green");setTimeout(function(){var d=a("#addressForm").serializeArray();var o=true;for(var n in d){var e=a("#AddressLine1Input");var q=e.hasClass("valid");var g=a("#errorAddress1",e.parent());if(!q){g.removeClass("error").addClass("error_show");o=false;a("#SubmitBtn").removeClass("btn-loader");a("#SubmitBtn").removeClass("green")}else{g.removeClass("error_show").addClass("error")}}for(var n in d){var e=a("#CityInput");var q=e.hasClass("valid");var g=a("div",e.parent());if(!q){g.removeClass("error").addClass("error_show");o=false;a("#SubmitBtn").removeClass("btn-loader");a("#SubmitBtn").removeClass("green")}else{g.removeClass("error_show").addClass("error")}}for(var n in d){var e=a("#ZipCodeInput");var q=e.hasClass("valid");var g=a("div",e.parent());if(!q){g.removeClass("error").addClass("error_show");o=false;a("#SubmitBtn").removeClass("btn-loader");a("#SubmitBtn").removeClass("green")}else{g.removeClass("error_show").addClass("error")}}if(!o){b.preventDefault()}else{b.preventDefault();var m=a("input#AddressLine1Input").val();var p=a("input#AddressLine2Input").val();var i=a("input#CityInput").val();var r=a("select#StateInput option:selected").text();var s=a("input#ZipCodeInput").val();var l=a("select#CountryInput").val();var h=a("input[name=accountId]").val();var c=a("input[name=paymentId]").val();var j=a("input[name=orderId]").val();var f=a("input[name=orderPrivateId]").val();var k=a("input[name=ajax_url]").val();var t={action:"sf_update_address_data",address1:m,address2:p,city:i,state:r,zip:s,country:l,AccounId:h,PaymentId:c,order:j,orderPrivate:f};console.log(t);a.ajax({url:k,type:"post",method:"post",data:t,success:function(u){console.log(u);var v=JSON.parse(u);if(v.product_purchased&&v.product_purchased==="eBook"){a("#loginForm").hide();a("#ebookLink").find("a").attr("href",v.product_url)}else{a("#ebookLink").hide()}a("#MainLeftFormDiv").hide(1500);a("#MainLeftTitleDiv").hide(1500);a("#PurchaseDetails").show(1500);a(window).scrollTop(0)}})}},2000)})});